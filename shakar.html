<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>–®–∞–∫–∞—Ä–æ—á–∫–∞</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link rel="stylesheet" href="/style.css">
        <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563EB',
                        secondary: '#475569',
                        bg: '#F8FAFC',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    </head>
    <body class="text-slate-800 pb-24 lg:pb-8">

        <div
            class="bg-white shadow-sm sticky top-0 z-40 mb-6 border-b border-gray-100">
            <div class="max-w-6xl mx-auto px-4 py-4 flex items-center gap-3">
                <div
                    class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white text-xl shadow-blue-200 shadow-lg">
                    <i class="fa-solid fa-burger"></i>
                </div>
                <div>
                    <h1 class="font-bold text-lg leading-tight">–®–∞–∫–∞—Ä</h1>
                    <p class="text-xs text-gray-500">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</p>
                </div>
            </div>
        </div>

        <div
            class="w-full max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6 px-4">

            <div class="lg:col-span-2 space-y-6">

                <div
                    class="bg-white rounded-2xl shadow-sm p-5 md:p-6 border border-gray-100">
                    <h2 class="text-lg font-bold mb-4 flex items-center gap-2">
                        <span
                            class="w-8 h-8 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center text-sm"><i
                                class="fa-solid fa-user"></i></span>
                        –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                        <div class="relative group">
                            <label
                                class="text-xs font-semibold text-gray-500 uppercase tracking-wide ml-1 mb-1 block">–ò–º—è
                                <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <i
                                    class="fa-regular fa-user absolute left-3.5 top-3.5 text-gray-400 group-focus-within:text-blue-500 transition-colors"></i>
                                <input type="text" id="client_name"
                                    placeholder="–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?"
                                    class="input-field w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl outline-none transition-all font-medium text-gray-800 placeholder-gray-400">
                            </div>
                        </div>
                        <div class="relative group">
                            <label
                                class="text-xs font-semibold text-gray-500 uppercase tracking-wide ml-1 mb-1 block">–¢–µ–ª–µ—Ñ–æ–Ω
                                <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <i
                                    class="fa-solid fa-phone absolute left-3.5 top-3.5 text-gray-400 group-focus-within:text-blue-500 transition-colors"></i>
                                <input type="tel" id="client_phone" value="+998"
                                    maxlength="13"
                                    oninput="this.value = '+' + this.value.replace(/[^0-9]/g, '')"
                                    placeholder="+998"
                                    class="input-field w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl outline-none transition-all font-medium text-gray-800 tracking-wide">
                            </div>
                        </div>
                    </div>
                </div>

                <div
                    class="bg-white rounded-2xl shadow-sm p-5 md:p-6 border border-gray-100">
                    <div
                        class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4">
                        <h2 class="text-lg font-bold flex items-center gap-2">
                            <span
                                class="w-8 h-8 rounded-full bg-orange-50 text-orange-600 flex items-center justify-center text-sm"><i
                                    class="fa-solid fa-location-dot"></i></span>
                            –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
                        </h2>

                        <div
                            class="bg-gray-100 p-1 rounded-xl flex w-full sm:w-auto relative">
                            <button onclick="setOrderType('delivery')"
                                id="btn-delivery"
                                class="flex-1 sm:flex-none px-6 py-2 rounded-lg text-sm font-semibold shadow-sm bg-white text-gray-800 transition-all duration-200">
                                –î–æ—Å—Ç–∞–≤–∫–∞
                            </button>
                            <button onclick="setOrderType('pickup')"
                                id="btn-pickup"
                                class="flex-1 sm:flex-none px-6 py-2 rounded-lg text-sm font-semibold text-gray-500 hover:text-gray-700 transition-all duration-200">
                                –°–∞–º–æ–≤—ã–≤–æ–∑
                            </button>
                        </div>
                        <input type="hidden" id="order_type" value="delivery">
                    </div>

                    <div id="delivery-section" class="fade-in space-y-4">
                        <div class="relative group">
                            <label
                                class="text-xs font-semibold text-gray-500 uppercase tracking-wide ml-1 mb-1 block">–ê–¥—Ä–µ—Å</label>
                            <div class="relative">
                                <i
                                    class="fa-solid fa-map-pin absolute left-3.5 top-3.5 text-gray-400 group-focus-within:text-orange-500 transition-colors"></i>
                                <input type="text" id="address_full"
                                    placeholder="–£–ª–∏—Ü–∞, –æ—Ä–∏–µ–Ω—Ç–∏—Ä..."
                                    class="input-field w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl outline-none transition-all">
                            </div>
                        </div>
                        <div class="grid grid-cols-3 gap-3">
                            <div>
                                <label
                                    class="text-[10px] uppercase text-gray-400 font-bold ml-1 mb-1 block">–î–æ–º</label>
                                <input type="text" id="addr_house"
                                    class="input-field w-full p-2.5 bg-gray-50 border border-gray-200 rounded-xl text-center outline-none transition-all">
                            </div>
                            <div>
                                <label
                                    class="text-[10px] uppercase text-gray-400 font-bold ml-1 mb-1 block">–ö–≤.</label>
                                <input type="text" id="addr_kv"
                                    class="input-field w-full p-2.5 bg-gray-50 border border-gray-200 rounded-xl text-center outline-none transition-all">
                            </div>
                            <div>
                                <label
                                    class="text-[10px] uppercase text-gray-400 font-bold ml-1 mb-1 block">–≠—Ç–∞–∂</label>
                                <input type="text" id="addr_floor"
                                    class="input-field w-full p-2.5 bg-gray-50 border border-gray-200 rounded-xl text-center outline-none transition-all">
                            </div>
                        </div>
                    </div>

                    <div id="pickup-section" class="hidden fade-in">
                        <div class="relative group">
                            <label
                                class="text-xs font-semibold text-gray-500 uppercase tracking-wide ml-1 mb-1 block">–í—ã–±–µ—Ä–∏—Ç–µ
                                —Ñ–∏–ª–∏–∞–ª</label>
                            <div class="relative">
                                <i
                                    class="fa-solid fa-magnifying-glass absolute left-3.5 top-3.5 text-gray-400 group-focus-within:text-orange-500 transition-colors"></i>
                                <input type="text" id="branch_search"
                                    placeholder="–ü–æ–∏—Å–∫ —Ñ–∏–ª–∏–∞–ª–∞..."
                                    class="input-field w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl outline-none transition-all"
                                    oninput="filterBranches(this.value)"
                                    onclick="showBranches()" autocomplete="off">

                                <div id="branch-list"
                                    class="hidden absolute z-30 w-full bg-white border border-gray-200 rounded-xl shadow-xl mt-2 max-h-60 overflow-y-auto overflow-hidden"></div>
                                <input type="hidden" id="selected_branch" value>
                            </div>
                        </div>
                        <div
                            class="mt-3 p-4 bg-blue-50 border border-blue-100 text-blue-700 text-sm rounded-xl hidden flex items-center gap-2"
                            id="branch-selected-msg">
                            <i class="fa-solid fa-check-circle"></i>
                            <span>–§–∏–ª–∏–∞–ª: <span class="font-bold"
                                    id="branch-name-display"></span></span>
                        </div>
                    </div>
                </div>

                <div
                    class="bg-white rounded-2xl shadow-sm p-5 md:p-6 border border-gray-100 relative min-h-[300px]">
                    <h2 class="text-lg font-bold mb-4 flex items-center gap-2">
                        <span
                            class="w-8 h-8 rounded-full bg-green-50 text-green-600 flex items-center justify-center text-sm"><i
                                class="fa-solid fa-utensils"></i></span>
                        –ú–µ–Ω—é –∏ –∫–æ—Ä–∑–∏–Ω–∞
                    </h2>

                    <div class="relative mb-6 z-20">
                        <div class="relative group">
                            <i
                                class="fa-solid fa-plus absolute left-3.5 top-3.5 text-gray-400 group-focus-within:text-green-600 transition-colors"></i>
                            <input type="text" id="product-search"
                                placeholder="–î–æ–±–∞–≤–∏—Ç—å –±–ª—é–¥–æ..."
                                class="input-field w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl outline-none transition-all"
                                oninput="searchProducts(this.value)"
                                autocomplete="off">

                            <div id="search-results"
                                class="hidden absolute left-0 right-0 top-full mt-2 bg-white border border-gray-200 rounded-xl shadow-2xl max-h-64 overflow-y-auto z-30 divide-y divide-gray-100"></div>
                        </div>
                    </div>

                    <div class="overflow-hidden">
                        <table class="w-full text-left border-collapse">
                            <thead
                                class="bg-gray-50 text-gray-500 text-xs uppercase font-semibold hidden md:table-header-group">
                                <tr>
                                    <th
                                        class="px-4 py-3 rounded-l-lg w-[45%]">–ë–ª—é–¥–æ</th>
                                    <th
                                        class="px-2 py-3 text-center w-[20%]">–ö–æ–ª-–≤–æ</th>
                                    <th
                                        class="px-2 py-3 text-center w-[15%]">–¶–µ–Ω–∞</th>
                                    <th
                                        class="px-4 py-3 rounded-r-lg text-right w-[15%]">–ò—Ç–æ–≥</th>
                                    <th class="w-10"></th>
                                </tr>
                            </thead>
                            <tbody id="product-list"
                                class="divide-y divide-dashed divide-gray-200">
                            </tbody>
                        </table>
                    </div>

                    <div id="empty-cart-msg" class="text-center py-12 hidden">
                        <div
                            class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3 text-gray-400 text-2xl">
                            <i class="fa-solid fa-basket-shopping"></i>
                        </div>
                        <p class="text-gray-500 font-medium">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
                        <p class="text-xs text-gray-400">–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å
                            –Ω–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞ –≤—ã—à–µ</p>
                    </div>

                    <div class="mt-8">
                        <label
                            class="text-xs font-semibold text-gray-500 uppercase tracking-wide ml-1 mb-1 block">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
                            –∫ –∑–∞–∫–∞–∑—É</label>
                        <textarea id="order_description" rows="2"
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ø–æ–±–æ–ª—å—à–µ —Å–∞–ª—Ñ–µ—Ç–æ–∫, –Ω–µ –∫–ª–∞—Å—Ç—å –ª—É–∫..."
                            class="input-field w-full p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none transition-all text-sm resize-none"></textarea>
                    </div>
                </div>

            </div>

            <div class="lg:col-span-1">
                <div
                    class="bg-white rounded-2xl shadow-sm p-6 border border-gray-100 sticky top-24">
                    <h2 class="text-xl font-bold text-gray-800 mb-6">–í–∞—à
                        –∑–∞–∫–∞–∑</h2>

                    <div class="mb-5">
                        <label
                            class="text-xs font-bold text-gray-500 uppercase block mb-1.5">–°–∫–∏–¥–∫–∞</label>
                        <div class="relative">
                            <select id="discount_select"
                                onchange="recalcTotal()"
                                class="input-field w-full p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none appearance-none text-sm font-medium">
                                <option value="0">–ë–µ–∑ —Å–∫–∏–¥–∫–∏</option>
                                <option value="15">–°–∞–º–æ–≤—ã–≤–æ–∑ (-15%)</option>
                                <option value="20">–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (-20%)</option>
                            </select>
                            <i
                                class="fa-solid fa-chevron-down absolute right-4 top-4 text-gray-400 text-xs pointer-events-none"></i>
                        </div>
                        <p
                            class="text-[10px] text-gray-400 mt-1.5 leading-tight opacity-70">*
                            –°–∫–∏–¥–∫–∞ –Ω–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫—É –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</p>
                    </div>

                    <div class="mb-6">
                        <label
                            class="text-xs font-bold text-gray-500 uppercase block mb-1.5">–û–ø–ª–∞—Ç–∞</label>
                        <div class="relative">
                            <select id="payment_method"
                                class="input-field w-full p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none appearance-none text-sm font-bold text-gray-700">
                                <option value="–ù–∞–ª–∏—á–Ω—ã–µ">üíµ –ù–∞–ª–∏—á–Ω—ã–µ</option>
                                <option value="–¢–µ—Ä–º–∏–Ω–∞–ª">üí≥ –¢–µ—Ä–º–∏–Ω–∞–ª
                                    (Click/Payme)</option>
                            </select>
                            <i
                                class="fa-solid fa-chevron-down absolute right-4 top-4 text-gray-400 text-xs pointer-events-none"></i>
                        </div>
                    </div>

                    <div
                        class="space-y-3 py-4 border-t border-dashed border-gray-200 text-sm">
                        <div class="flex justify-between text-gray-500">
                            <span>–¢–æ–≤–∞—Ä—ã</span>
                            <span id="subtotal" class="font-medium">0 —Å—É–º</span>
                        </div>
                        <div class="flex justify-between text-green-600 hidden"
                            id="discount-row">
                            <span>–°–∫–∏–¥–∫–∞</span>
                            <span id="discount-amount" class="font-bold">-0
                                —Å—É–º</span>
                        </div>
                        <div class="flex justify-between text-gray-500">
                            <span>–î–æ—Å—Ç–∞–≤–∫–∞</span>
                            <span id="delivery-cost" class="font-medium">0
                                —Å—É–º</span>
                        </div>
                    </div>

                    <div
                        class="flex justify-between items-end mt-2 pt-4 border-t border-gray-100">
                        <span class="text-gray-500 font-medium">–ò—Ç–æ–≥–æ:</span>
                        <span id="total-sum"
                            class="text-2xl font-bold text-gray-900 leading-none">0
                            —Å—É–º</span>
                    </div>

                    <button onclick="sendToTelegram()"
                        class="hidden lg:flex w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-blue-200 transition-all transform hover:scale-[1.02] active:scale-[0.98] items-center justify-center gap-2">
                        <span>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</span>
                        <i class="fa-solid fa-arrow-right"></i>
                    </button>
                </div>
            </div>

        </div>

        <div
            class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-[0_-4px_20px_rgba(0,0,0,0.05)] lg:hidden p-4 mobile-bottom-bar z-50">
            <div
                class="max-w-6xl mx-auto flex items-center justify-between gap-4">
                <div class="flex flex-col">
                    <span
                        class="text-xs text-gray-400 font-medium">–ö–æ–ø–ª–∞—Ç–µ</span>
                    <span id="mobile-total-sum"
                        class="text-xl font-bold text-gray-900">0 —Å—É–º</span>
                </div>
                <button onclick="sendToTelegram()"
                    class="bg-blue-600 text-white px-8 py-3 rounded-xl font-bold shadow-lg shadow-blue-200 active:scale-95 transition-transform flex items-center gap-2">
                    –ó–∞–∫–∞–∑–∞—Ç—å <i class="fa-solid fa-paper-plane text-sm"></i>
                </button>
            </div>
        </div>

        <script src="/script.js"></script>
    </body>
</html>